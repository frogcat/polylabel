!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.polylabel=e():t.polylabel=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=n(1);function o(t,e,n){var o,u,s,f;e=e||1;for(var h=0;h<t[0].length;h++){var l=t[0][h];(!h||l[0]<o)&&(o=l[0]),(!h||l[1]<u)&&(u=l[1]),(!h||l[0]>s)&&(s=l[0]),(!h||l[1]>f)&&(f=l[1])}var p=s-o,c=f-u,d=Math.min(p,c),v=d/2;if(0===d)return[o,u];for(var g=new r(null,i),y=o;y<s;y+=d)for(var b=u;b<f;b+=d)g.push(new a(y+v,b+v,v,t));var x=function(t){for(var e=0,n=0,r=0,o=t[0],i=0,u=o.length,s=u-1;i<u;s=i++){var f=o[i],h=o[s],l=f[0]*h[1]-h[0]*f[1];n+=(f[0]+h[0])*l,r+=(f[1]+h[1])*l,e+=3*l}return 0===e?new a(o[0][0],o[0][1],0,t):new a(n/e,r/e,0,t)}(t),m=new a(o+p/2,u+c/2,0,t);m.d>x.d&&(x=m);for(var w=g.length;g.length;){var _=g.pop();_.d>x.d&&(x=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,w)),_.max-x.d<=e||(v=_.h/2,g.push(new a(_.x-v,_.y-v,v,t)),g.push(new a(_.x+v,_.y-v,v,t)),g.push(new a(_.x-v,_.y+v,v,t)),g.push(new a(_.x+v,_.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),[x.x,x.y]}function i(t,e){return e.max-t.max}function a(t,e,n,r){this.x=t,this.y=e,this.h=n,this.d=function(t,e,n){for(var r=!1,o=1/0,i=0;i<n.length;i++)for(var a=n[i],s=0,f=a.length,h=f-1;s<f;h=s++){var l=a[s],p=a[h];l[1]>e!=p[1]>e&&t<(p[0]-l[0])*(e-l[1])/(p[1]-l[1])+l[0]&&(r=!r),o=Math.min(o,u(t,e,l,p))}return(r?1:-1)*Math.sqrt(o)}(t,e,r),this.max=this.d+this.h*Math.SQRT2}function u(t,e,n,r){var o=n[0],i=n[1],a=r[0]-o,u=r[1]-i;if(0!==a||0!==u){var s=((t-o)*a+(e-i)*u)/(a*a+u*u);s>1?(o=r[0],i=r[1]):s>0&&(o+=a*s,i+=u*s)}return(a=t-o)*a+(u=e-i)*u}t.exports=o,t.exports.default=o},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=r,t.exports.default=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var o=t-1>>1,i=e[o];if(n(r,i)>=0)break;e[t]=i,t=o}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,o=e[t];t<r;){var i=1+(t<<1),a=i+1,u=e[i];if(a<this.length&&n(e[a],u)<0&&(i=a,u=e[a]),n(u,o)>=0)break;e[t]=u,t=i}e[t]=o}}}])});